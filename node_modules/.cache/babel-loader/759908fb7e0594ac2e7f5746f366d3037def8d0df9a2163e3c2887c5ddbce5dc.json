{"ast":null,"code":"!function (e, t) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = t() : \"function\" == typeof define && define.amd ? define(\"FrameTicker\", [], t) : \"object\" == typeof exports ? exports.FrameTicker = t() : e.FrameTicker = t();\n}(this, function () {\n  return function (e) {\n    function t(n) {\n      if (i[n]) return i[n].exports;\n      var r = i[n] = {\n        exports: {},\n        id: n,\n        loaded: !1\n      };\n      return e[n].call(r.exports, r, r.exports, t), r.loaded = !0, r.exports;\n    }\n    var i = {};\n    return t.m = e, t.c = i, t.p = \"\", t(0);\n  }([function (e, t, i) {\n    \"use strict\";\n\n    var n = i(1),\n      r = function () {\n        function e(e, t, i) {\n          void 0 === e && (e = NaN), void 0 === t && (t = NaN), void 0 === i && (i = !1), this._minFPS = t, this._maxFPS = e, this._timeScale = 1, this._currentTick = 0, this._currentTime = 0, this._tickDeltaTime = 0, this._isRunning = !1, this._maxInterval = isNaN(this._minFPS) ? NaN : 1e3 / this._minFPS, this._minInterval = isNaN(this._maxFPS) ? NaN : 1e3 / this._maxFPS, this._onResume = new n.default(), this._onPause = new n.default(), this._onTick = new n.default(), this._onTickOncePerFrame = new n.default(), i || this.resume();\n        }\n        return e.prototype.updateOnce = function (e) {\n          e(this.currentTimeSeconds, this.tickDeltaTimeSeconds, this.currentTick);\n        }, e.prototype.resume = function () {\n          this._isRunning || (this._isRunning = !0, this._lastTimeUpdated = this.getTimer(), this._onResume.dispatch(), this.animateOnce());\n        }, e.prototype.pause = function () {\n          this._isRunning && (this._isRunning = !1, this._onPause.dispatch(), window.cancelAnimationFrame(this._animationFrameHandle));\n        }, e.prototype.dispose = function () {\n          this.pause(), this._onResume.removeAll(), this._onPause.removeAll(), this._onTick.removeAll();\n        }, Object.defineProperty(e.prototype, \"currentTick\", {\n          get: function get() {\n            return this._currentTick;\n          },\n          enumerable: !0,\n          configurable: !0\n        }), Object.defineProperty(e.prototype, \"currentTimeSeconds\", {\n          get: function get() {\n            return this._currentTime / 1e3;\n          },\n          enumerable: !0,\n          configurable: !0\n        }), Object.defineProperty(e.prototype, \"tickDeltaTimeSeconds\", {\n          get: function get() {\n            return this._tickDeltaTime / 1e3;\n          },\n          enumerable: !0,\n          configurable: !0\n        }), Object.defineProperty(e.prototype, \"timeScale\", {\n          get: function get() {\n            return this._timeScale;\n          },\n          set: function set(e) {\n            this._timeScale !== e && (this._timeScale = e);\n          },\n          enumerable: !0,\n          configurable: !0\n        }), Object.defineProperty(e.prototype, \"onResume\", {\n          get: function get() {\n            return this._onResume;\n          },\n          enumerable: !0,\n          configurable: !0\n        }), Object.defineProperty(e.prototype, \"onPause\", {\n          get: function get() {\n            return this._onPause;\n          },\n          enumerable: !0,\n          configurable: !0\n        }), Object.defineProperty(e.prototype, \"onTick\", {\n          get: function get() {\n            return this._onTick;\n          },\n          enumerable: !0,\n          configurable: !0\n        }), Object.defineProperty(e.prototype, \"onTickOncePerFrame\", {\n          get: function get() {\n            return this._onTickOncePerFrame;\n          },\n          enumerable: !0,\n          configurable: !0\n        }), Object.defineProperty(e.prototype, \"isRunning\", {\n          get: function get() {\n            return this._isRunning;\n          },\n          enumerable: !0,\n          configurable: !0\n        }), e.prototype.animateOnce = function () {\n          var e = this;\n          this._animationFrameHandle = window.requestAnimationFrame(function () {\n            return e.onFrame();\n          });\n        }, e.prototype.onFrame = function () {\n          if (this._now = this.getTimer(), this._frameDeltaTime = this._now - this._lastTimeUpdated, isNaN(this._minInterval) || this._frameDeltaTime >= this._minInterval) if (isNaN(this._maxInterval)) this.update(this._frameDeltaTime * this._timeScale, !0), this._lastTimeUpdated = this._now;else for (this._interval = Math.min(this._frameDeltaTime, this._maxInterval); this._now >= this._lastTimeUpdated + this._interval;) this.update(this._interval * this._timeScale, this._now <= this._lastTimeUpdated + 2 * this._maxInterval), this._lastTimeUpdated += this._interval;\n          this._isRunning && this.animateOnce();\n        }, e.prototype.update = function (e, t) {\n          void 0 === t && (t = !0), this._currentTick++, this._currentTime += e, this._tickDeltaTime = e, this._onTick.dispatch(this.currentTimeSeconds, this.tickDeltaTimeSeconds, this.currentTick), t && this._onTickOncePerFrame.dispatch(this.currentTimeSeconds, this.tickDeltaTimeSeconds, this.currentTick);\n        }, e.prototype.getTimer = function () {\n          return Date.now();\n        }, e;\n      }();\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), t.default = r;\n  }, function (e, t, i) {\n    !function (t, i) {\n      e.exports = i();\n    }(this, function () {\n      return function (e) {\n        function t(n) {\n          if (i[n]) return i[n].exports;\n          var r = i[n] = {\n            exports: {},\n            id: n,\n            loaded: !1\n          };\n          return e[n].call(r.exports, r, r.exports, t), r.loaded = !0, r.exports;\n        }\n        var i = {};\n        return t.m = e, t.c = i, t.p = \"\", t(0);\n      }([function (e, t) {\n        \"use strict\";\n\n        var i = function () {\n          function e() {\n            this.functions = [];\n          }\n          return e.prototype.add = function (e) {\n            return this.functions.indexOf(e) === -1 && (this.functions.push(e), !0);\n          }, e.prototype.remove = function (e) {\n            var t = this.functions.indexOf(e);\n            return t > -1 && (this.functions.splice(t, 1), !0);\n          }, e.prototype.removeAll = function () {\n            return this.functions.length > 0 && (this.functions.length = 0, !0);\n          }, e.prototype.dispatch = function () {\n            for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];\n            var i = this.functions.concat();\n            i.forEach(function (t) {\n              t.apply(void 0, e);\n            });\n          }, Object.defineProperty(e.prototype, \"numItems\", {\n            get: function get() {\n              return this.functions.length;\n            },\n            enumerable: !0,\n            configurable: !0\n          }), e;\n        }();\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.default = i;\n      }]);\n    });\n  }]);\n});","map":null,"metadata":{},"sourceType":"script","externalDependencies":[]}